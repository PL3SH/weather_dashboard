<div class="min-h-screen bg-zinc-900 font-mono antialiased relative p-8">
  <!-- Patrones geométricos de fondo -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none opacity-20">
    <div class="absolute top-0 right-0 w-[800px] h-[800px] rounded-full border-[60px] border-teal-500/20 -translate-y-1/2 translate-x-1/2"></div>
    <div class="absolute bottom-0 left-0 w-[600px] h-[600px] rounded-full border-[40px] border-emerald-500/20 translate-y-1/2 -translate-x-1/2"></div>
    <div class="absolute top-1/2 left-1/2 w-[300px] h-[300px] rotate-45 border-[20px] border-cyan-500/20 -translate-x-1/2 -translate-y-1/2"></div>
  </div>

  <div class="container mx-auto max-w-[1800px] relative">
    <!-- Encabezado con elementos circulares -->
    <div class="mb-16 relative">
      <div class="absolute -left-4 top-0 w-2 h-full bg-gradient-to-b from-emerald-500/50 to-teal-500/50"></div>
      <div class="pl-8">
        <div class="flex items-baseline gap-6">
          <h1 class="text-8xl text-white font-bold tracking-tighter">
            <%= @location.full_name %>
          </h1>
          <div class="relative">
            <div class="absolute -inset-2 rounded-full border-2 border-emerald-500/30 animate-pulse"></div>
            <span class="text-emerald-400 text-3xl"><%= @location.country_code %></span>
          </div>
        </div>
        <div class="mt-4 flex items-center gap-4">
          <div class="w-3 h-3 rounded-full bg-emerald-500 animate-pulse"></div>
          <span class="text-emerald-400/70 text-xl tracking-wider">
            <%= @location.weather_records.last.updated_at.strftime("%H:%M:%S / %d.%m.%Y") %>
          </span>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-12 gap-8">
      <!-- Panel principal -->
      <div class="col-span-8 space-y-8">
        <!-- Display de temperatura con diseño circular -->
        <div class="relative bg-zinc-800 rounded-[3rem] p-12 overflow-hidden group">
          <div class="absolute inset-0 bg-gradient-to-br from-emerald-900/20 to-teal-900/20"></div>
          <div class="absolute -right-20 -top-20 w-80 h-80 rounded-full border-[30px] border-emerald-500/10"></div>
          
          <div class="relative flex items-start justify-between">
            <div class="text-[14rem] text-white font-bold leading-none tracking-tighter">
              <%= @location.weather_records.last.temperature.to_i %>°
              <div class="absolute -bottom-8 left-4 text-2xl text-emerald-400 tracking-widest">CELSIUS</div>
            </div>
            <div class="mt-8 p-8 rounded-[2rem] bg-zinc-900/50 backdrop-blur-sm border border-emerald-500/20">
              <div class="text-3xl text-emerald-400 uppercase mb-3 tracking-wider">
                <%= @location.weather_records.last.description %>
              </div>
              <div class="text-xl text-emerald-400/70">
                Sensación térmica <%= @location.weather_records.last.feels_like %>°C
              </div>
            </div>
          </div>
        </div>

        <!-- Grid de datos con formas geométricas -->
        <div class="grid grid-cols-2 gap-6">
          <% [
            ["MÉTRICAS TÉRMICAS", "MIN: #{@location.weather_records.last.temp_min}°C", "MAX: #{@location.weather_records.last.temp_max}°C"],
            ["PRESIÓN ATMOSFÉRICA", "#{@location.weather_records.last.pressure} Pa", "HUMEDAD: #{@location.weather_records.last.humidity}%"],
            ["NIVELES ALTITUD", "NIVEL MAR: #{@location.weather_records.last.sea_level}M", "SUELO: #{@location.weather_records.last.grnd_level}M"],
            ["COORDENADAS", "LAT: #{@location.latitude}", "LON: #{@location.longitude}"]
          ].each_with_index do |(title, line1, line2), index| %>
            <div class="relative bg-zinc-800 rounded-[2rem] p-8 overflow-hidden group">
              <div class="absolute <%= index % 2 == 0 ? '-right-8 -top-8' : '-left-8 -bottom-8' %> w-32 h-32 
                           <%= index % 2 == 0 ? 'rounded-full' : 'rotate-45' %> 
                           border-[12px] border-emerald-500/10"></div>
              
              <div class="relative">
                <div class="text-emerald-400/70 text-sm tracking-[0.3em] mb-6 flex items-center gap-3">
                  <div class="w-2 h-2 rounded-full bg-emerald-500"></div>
                  <%= title %>
                </div>
                <p class="text-white text-2xl mb-3"><%= line1 %></p>
                <p class="text-white text-2xl"><%= line2 %></p>
              </div>
            </div>
          <% end %>
        </div>
      </div>

      <!-- Panel lateral -->
      <div class="col-span-4 space-y-6">
        <!-- Visualización del clima -->
        <div class="bg-zinc-800 rounded-[3rem] p-8 relative overflow-hidden group">
          <div class="absolute inset-0 bg-gradient-to-br from-emerald-900/20 to-teal-900/20"></div>
          <div class="absolute -left-12 -bottom-12 w-48 h-48 rounded-full border-[20px] border-emerald-500/10"></div>
          
          <div class="relative flex justify-center items-center h-80">
            <% case @location.weather_records.last.id_status 
               when 800 %>
                <%= image_tag "sunny_day.svg", class: "w-48 h-48 brightness-110 contrast-110 hue-rotate-[45deg]" %>
              <% when 801..804 %>
                <%= image_tag "cloudy_sun.svg", class: "w-48 h-48" %>
              <% when 500..531, 300..321 %>
                <%= image_tag "rainy_sun.svg", class: "w-48 h-48" %>
              <% when 200..232 %>
                <%= image_tag "thunderstorm_sun.svg", class: "w-48 h-48" %>
              <% when 600..622 %>
                <%= image_tag "snow_sun.svg", class: "w-48 h-48" %>
              <% when 701..781 %>
                <%= image_tag "mist_sun.svg", class: "w-48 h-48" %>
              <% else %>
                <%= image_tag "sunny_day.svg", class: "w-48 h-48" %>
              <% end %>
          </div>
        </div>

        <!-- Botón de retorno -->
        <%= link_to root_path, class: "block" do %>
          <div class="group bg-zinc-800 rounded-full p-6 hover:bg-zinc-700 transition-all duration-300 border border-emerald-500/20">
            <span class="text-emerald-400 flex items-center justify-between">
              <span class="tracking-[0.2em]">VOLVER</span>
              <span class="group-hover:translate-x-2 transition-transform duration-300">→</span>
            </span>
          </div>
        <% end %>
      </div>
    </div>

    <!-- Barra de estado inferior -->
    <div class="mt-12 bg-zinc-800 rounded-full p-4 border border-emerald-500/20">
      <p class="text-emerald-400/70 tracking-[0.2em] flex items-center justify-center gap-4">
        <span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span>
        SISTEMA ACTIVO :: MONITOREO EN CURSO :: ESTADO: ÓPTIMO
      </p>
    </div>
  </div>
</div>

<style>
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

.float {
  animation: float 6s ease-in-out infinite;
}
</style>
